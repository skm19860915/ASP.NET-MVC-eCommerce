@model Platini.Models.ClothList

@{
    bool showAct = false;
    showAct = (!string.IsNullOrEmpty(Platini.Models.SiteConfiguration.Mode)) && (Platini.Models.SiteConfiguration.Mode.ToLower() == Platini.Models.ModeEnum.Edit.ToString().ToLower());}

@for (int i = 0; i < Model.List.Count(); i = i + 4)
{
    <div class="container">
        <div class="row">

            <div class="col-md-2 col-lg-2 col-sm-2">
                <div class="">
                    <div style="">
                        <a href="@Url.Action("Detail", "Home", new { Id = Model.List[i].StyleNumber })">
                            <img id="imgpic" src="data:image/jpeg;base64,@(Html.Action("ServeImage", "Home", new { path = "~/Library/Uploads/WebThumb/" + Model.List[i].ImagePath, width = 163, height = 245 }))" style="min-height:120px; border-width: 0px; border: 1px solid #424240; border-radius: 0px;">
                            @if (Model.List[i].Clearance.HasValue ? Model.List[i].Clearance.Value == 1 : false)
                            {<img src="@Url.Content("~/Styles/images/btnClearance_color.png")" style="margin-top:-120px;margin-left:40px;position:absolute;display:block;Z-index:1000;height:120px;">}
                        </a>
                    </div>
                    <div class="firs-bottom-text">

                        <div class="StyleNumberTD">

                            <a href="@Url.Action("Detail", "Home", new { Id = Model.List[i].StyleNumber })">@Model.List[i].StyleNumber</a>
                            @if (ViewBag.modevalue != "d")
                            {
                                if (ViewBag.modevalue == "n" || ViewBag.modevalue == "c")
                                {
                                <div style="color: white;" class="priceclass">$<span id="lblPrice">@Model.List[i].Price.Value.ToString("0.00")</span> </div>
                                }
                                else
                                {
                                <div style="color: white;" class="priceclass">$<span id="lblPrice">@Model.List[i].Price.Value.ToString("0.00")</span> </div>}
                            }
                            @if (ViewBag.modevalue == "f")
                            {<div style="color: white;" class="priceclass">Delivery: <span>@Model.List[i].FutureDeliveryDate.Value.ToString("dd MMM yyyy")</span> </div>}

                            @if (ViewBag.modevalue == "d" && showAct)
                            {
                                <div class="priceclass">
                                    <span style="float:left;color: white;" id="@("spnAct_" + Model.List[i].ClothesId)">@Html.CheckBox("chkAct", false, new { @id = "chkAct_" + Model.List[i].ClothesId, @class = "chkAct", @value = Model.List[i].ClothesId }) Activate </span>
                                    <span style="float:left;color: white;float: right;" id="@("spnDel_" + Model.List[i].ClothesId)">@Html.CheckBox("chkDel", false, new { @id = "chkDel_" + Model.List[i].ClothesId, @class = "chkDel", @value = Model.List[i].ClothesId }) Delete </span>
                                    <div style="text-align: center;"><a href="@Url.Action("Step1", "Clothes", new { Id = Model.List[i].ClothesId, @area = "Admin" })" target="_blank">Edit</a></div>
                                    <div style="clear: both;"></div>
                                </div>                                
                            }

                        </div>
                    </div>
                </div>
            </div>
            @if (Model.List.Count() > i + 1)
            {
                <div class="col-md-2 col-lg-2 col-sm-2">
                    <div class="">
                        <div style="">
                            <a href="@Url.Action("Detail", "Home", new { Id = Model.List[i + 1].StyleNumber })">
                                <img id="imgpic" src="data:image/jpeg;base64,@(Html.Action("ServeImage", "Home", new { path = "~/Library/Uploads/WebThumb/" + Model.List[i + 1].ImagePath, width = 163, height = 245 }))" style="min-height:120px;border-width: 0px; border: 1px solid #424240; border-radius: 0px;">
                                @if (Model.List[i].Clearance.HasValue ? Model.List[i].Clearance.Value == 1 : false)
                                {<img src="@Url.Content("~/Styles/images/btnClearance_color.png")" style="margin-top:-120px;margin-left:40px;position:absolute;display:block;Z-index:1000;height:120px;">}
                            </a>
                        </div>
                        <div class="firs-bottom-text">

                            <div class="StyleNumberTD">
                                <a href="@Url.Action("Detail", "Home", new { Id = Model.List[i + 1].StyleNumber })">@Model.List[i + 1].StyleNumber</a>
                                @if (ViewBag.modevalue != "d")
                                {
                                    if (ViewBag.modevalue == "n" || ViewBag.modevalue == "c")
                                    {
                                    <div style="color: white;" class="priceclass">$<span id="lblPrice">@Model.List[i + 1].Price.Value.ToString("0.00")</span> </div>
                                    }
                                    else
                                    {
                                    <div style="color: white;" class="priceclass">$<span id="lblPrice">@Model.List[i + 1].Price.Value.ToString("0.00")</span> </div>}
                                }
                                @if (ViewBag.modevalue == "f")
                                {<div style="color: white;" class="priceclass">Delivery: <span>@Model.List[i + 1].FutureDeliveryDate.Value.ToString("dd MMM yyyy")</span> </div>}

                                @if (ViewBag.modevalue == "d" && showAct)
                                {
                                    <div class="priceclass">
                                        <span style="float:left;color: white;" id="@("spnAct_" + Model.List[i + 1].ClothesId)">@Html.CheckBox("chkAct", false, new { @id = "chkAct_" + Model.List[i + 1].ClothesId, @class = "chkAct", @value = Model.List[i + 1].ClothesId }) Activate </span>
                                        <span style="float:left;color: white;float: right;" id="@("spnDel_" + Model.List[i + 1].ClothesId)">@Html.CheckBox("chkDel", false, new { @id = "chkDel_" + Model.List[i + 1].ClothesId, @class = "chkDel", @value = Model.List[i + 1].ClothesId }) Delete </span>
                                        <div style="text-align: center;"><a href="@Url.Action("Step1", "Clothes", new { Id = Model.List[i + 1].ClothesId, @area = "Admin" })" target="_blank">Edit</a></div>
                                        <div style="clear: both;"></div>
                                    </div>
                                }

                            </div>
                        </div>
                    </div>
                </div>}
            @if (Model.List.Count() > i + 2)
            {
                <div class="col-md-2 col-lg-2 col-sm-2">
                    <div class="">
                        <div style="">
                            <a href="@Url.Action("Detail", "Home", new { Id = Model.List[i + 2].StyleNumber })">
                                <img id="imgpic" src="data:image/jpeg;base64,@(Html.Action("ServeImage", "Home", new { path = "~/Library/Uploads/WebThumb/" + Model.List[i + 2].ImagePath, width = 163, height = 245 }))" style="min-height:120px; border-width: 0px; border: 1px solid #424240; border-radius: 0px;">
                                @if (Model.List[i].Clearance.HasValue ? Model.List[i].Clearance.Value == 1 : false)
                                {<img src="@Url.Content("~/Styles/images/btnClearance_color.png")" style="margin-top:-120px;margin-left:40px;position:absolute;display:block;Z-index:1000;height:120px;">}
                            </a>
                        </div>
                        <div class="firs-bottom-text">

                            <div class="StyleNumberTD">
                                <a href="@Url.Action("Detail", "Home", new { Id = Model.List[i + 2].StyleNumber })">@Model.List[i + 2].StyleNumber</a>
                                @if (ViewBag.modevalue != "d")
                                {
                                    if (ViewBag.modevalue == "n" || ViewBag.modevalue == "c")
                                    {
                                    <div style="color: white;" class="priceclass">$<span id="lblPrice">@Model.List[i + 2].Price.Value.ToString("0.00")</span> </div>
                                    }
                                    else
                                    {
                                    <div style="color: white;" class="priceclass">$<span id="lblPrice">@Model.List[i + 2].Price.Value.ToString("0.00")</span> </div>}
                                }
                                @if (ViewBag.modevalue == "f")
                                {<div style="color: white;" class="priceclass">Delivery: <span>@Model.List[i + 2].FutureDeliveryDate.Value.ToString("dd MMM yyyy")</span> </div>}

                                @if (ViewBag.modevalue == "d" && showAct)
                                {
                                    <div class="priceclass">
                                        <span style="float:left;color: white;" id="@("spnAct_" + Model.List[i + 2].ClothesId)">@Html.CheckBox("chkAct", false, new { @id = "chkAct_" + Model.List[i + 2].ClothesId, @class = "chkAct", @value = Model.List[i + 2].ClothesId }) Activate </span>
                                        <span style="float:left;color: white;float: right;" id="@("spnDel_" + Model.List[i + 2].ClothesId)">@Html.CheckBox("chkDel", false, new { @id = "chkDel_" + Model.List[i + 2].ClothesId, @class = "chkDel", @value = Model.List[i + 2].ClothesId }) Delete </span>
                                        <div style="text-align: center;"><a href="@Url.Action("Step1", "Clothes", new { Id = Model.List[i + 2].ClothesId, @area = "Admin" })" target="_blank">Edit</a></div>
                                        <div style="clear: both;"></div>
                                    </div>
                                }

                            </div>
                        </div>
                    </div>
                </div>}
            @if (Model.List.Count() > i + 3)
            {
                <div class="col-md-2 col-lg-2 col-sm-2">
                    <div class="">
                        <div style="">
                            <a href="@Url.Action("Detail", "Home", new { Id = Model.List[i + 3].StyleNumber })">
                                <img id="imgpic" src="data:image/jpeg;base64,@(Html.Action("ServeImage", "Home", new { path = "~/Library/Uploads/WebThumb/" + Model.List[i + 3].ImagePath, width = 163, height = 245 }))" style="min-height:120px; border-width: 0px; border: 1px solid #424240; border-radius: 0px;">
                                @if (Model.List[i].Clearance.HasValue ? Model.List[i].Clearance.Value == 1 : false)
                                {<img src="@Url.Content("~/Styles/images/btnClearance_color.png")" style="margin-top:-120px;margin-left:40px;position:absolute;display:block;Z-index:1000;height:120px;">}
                            </a>
                        </div>
                        <div class="firs-bottom-text">

                            <div class="StyleNumberTD">

                                <a href="@Url.Action("Detail", "Home", new { Id = Model.List[i + 3].StyleNumber })">@Model.List[i + 3].StyleNumber</a>
                                @if (ViewBag.modevalue != "d")
                                {
                                    if (ViewBag.modevalue == "n" || ViewBag.modevalue == "c")
                                    {
                                    <div style="color: white;" class="priceclass">$<span id="lblPrice">@Model.List[i + 3].Price.Value.ToString("0.00")</span> </div>
                                    }
                                    else
                                    {
                                    <div style="color: white;" class="priceclass">$<span id="lblPrice">@Model.List[i + 3].Price.Value.ToString("0.00")</span> </div>}
                                }
                                @if (ViewBag.modevalue == "f")
                                {<div style="color: white;" class="priceclass">Delivery: <span>@Model.List[i + 3].FutureDeliveryDate.Value.ToString("dd MMM yyyy")</span> </div>}

                                @if (ViewBag.modevalue == "d" && showAct)
                                {
                                    <div class="priceclass">
                                        <span style="float:left;color: white;" id="@("spnAct_" + Model.List[i + 3].ClothesId)">@Html.CheckBox("chkAct", false, new { @id = "chkAct_" + Model.List[i + 3].ClothesId, @class = "chkAct", @value = Model.List[i + 3].ClothesId }) Activate </span>
                                        <span style="float:left;color: white;float: right;" id="@("spnDel_" + Model.List[i + 3].ClothesId)">@Html.CheckBox("chkAct", false, new { @id = "chkDel_" + Model.List[i + 3].ClothesId, @class = "chkDel", @value = Model.List[i + 3].ClothesId }) Delete </span>
                                        <div style="text-align: center;"><a href="@Url.Action("Step1", "Clothes", new { Id = Model.List[i + 3].ClothesId, @area = "Admin" })" target="_blank">Edit</a></div>
                                        <div style="clear: both;"></div>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>}
        </div>
        <br />
    </div>
}


<script type="text/javascript">
    $("input[name='chkAct']:checkbox").change(function () {
        if ($(this).is(":checked")) {
            var id = $(this).val();
            if (confirm("Are you sure you want to activate this item?")) {
                if (isFinite(id) && id > 0) {
                    $.post('@Url.Action("ActivateCloth", "Clothes", new { @area = "Admin" })', { Id: id }, function (data) {
                        if (data.Response == "Success")
                            window.location = window.location.href;
                        else
                            alert("Error");
                    });
                }
            }
        }
    });
    $("input[name='chkDel']:checkbox").change(function () {
        debugger;
        if ($(this).is(":checked")) {
            var id = $(this).val();
            if (confirm("Are you sure you want to delete this item?")) {
                if (isFinite(id) && id > 0) {
                    $.post('@Url.Action("DeleteClothes", "Clothes", new { @area = "Admin" })', { Id: id }, function (data) {
                        if (data.Response == "Success")
                            window.location = window.location.href;
                        else
                            alert("Error");
                    });
                }
            }
        }
    });
</script>
